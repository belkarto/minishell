<p align="center">
	<img alt="GitHub code size in bytes" src="https://img.shields.io/github/languages/code-size/belkarto/minishell?color=lightblue" />
	<img alt="Number of lines of code" src="https://img.shields.io/tokei/lines/github/belkarto/minishell?color=critical" />
	<img alt="Code language count" src="https://img.shields.io/github/languages/count/belkarto/minishell?color=yellow" />
	<img alt="GitHub top language" src="https://img.shields.io/github/languages/top/belkarto/minishell?color=blue" />
	<img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/belkarto/minishell?color=green" />
</p>

# <span style="color: #596666;">**Minishell**</span> <img src="Resources/IMG/bash_icon.png" style="height: 27px; width:32px;"/>

## *Description*

<div align="center"><align="center" /> 
	
<b>This project is a simple shell written in C that provides a basic command-line interface. <br> <br></b>

<img src="Resources/GIF/Make.gif" style="height: 275px; width:450px;background-color: #17202A;">

</div>

<i>
<ul>
    <li> <a href="#history"> History</li> </a>
    <li> <a href="#installation"> Installation</li> </a>
    <li> <a href="#features"> Features</li> </a>
    <li> <a href="#lexer && parsing"> Lexer && Parsing</li> </a>
    <li> <a href="#execution"> Execution</li> </a>
    <li> <a href="#resources"> Resources</li> </a>
</ul>
</i>

	
	

  ## <span id="history">*History*</span>
<details>
<summary style="list-style-type: '>';color: #EFDFF1">
	<i>
		story behind shell
	</i>
</summary>
<div align="center"><align="center" />
    <img src="https://images.newscientist.com/wp-content/uploads/2016/02/emipit65.jpg?width=900">
</div>
<div align="center"><align="center" />
    <font face="Times New Roman" size="3"> <span style="color: #85929E ;"> In its earliest form, a terminal was a small machine consisting of a monitor and a keyboard that allowed people to communicate with a larger computer system. <br>
    The terminal continued to improve and eventually led to the creation of the Bash shell. Bash is now one of the most widely used shells on Unix-based operating systems and is the default shell on most Linux distributions. <br><br>
    <b>
    So how can we create a small version of if using C programming language ?
    </span> </font>
</div>
</details>
<br>

## <span style="color: Grey;" id="installation">*Installation*</span>

 <p style="font-family: Times New Roman ;color: #807070">1 - Clone this repository:</p>

 ```
 git clone https://github.com/belkarto/minishell.git
 ```
<p style="font-family: Times New Roman ;color: #807070">2 - Add readline path to Makefile:</p>
<div align="center"><align="center" /> 
	<img src="Resources/IMG/readline_path.png" style="height: 120px; width:700px;background-color: #17202A;">
</div>


 <b><i><p style="color: #DBDBFF" >&nbsp;&nbsp;&nbsp;NOTE :</p></b></i>
 
<p style="font-family: Times New Roman ;color: #807070">
 &nbsp;&nbsp;&nbsp;If you do not have readline, you can install it by using:
</p>

 ```
 brew install readline
 ```

<br> 

## <span style="color: Grey;" id="features">*Features*</span>

- [x] Command Parsing
- [x] Command Search && Execution
- [x] Input/Output Redirection
- [x] Pipe Execution
- [x] Variable Expansion


## <span style="color: Grey;" id="lexer && parsing">*Lexer && Parsing*</span>

### <span style="color: #5A7777;">**--> Lexer**</span>

<div style="border: #626567; background-color: #17202A; padding: 10px;">
    The lexer takes the command line and parses it into tokens. Therefore, there are two types of tokens: <br>
  	- Word <br>
    	- Special characters (“, ‘, <, >, <<, >>, $, |, spc) </span>
</div>

<br>
<details>
<summary style="list-style-type: '>';color: #EFDFF1">
    <i>
     Click for Example :
    </i>
  </summary>
    <center>
    <br>
  <img src="Resources/IMG/lexer.png" style="width:700px;background-color: #17202A;">
    </center>
</details>

<details>
    <summary style="list-style-type: '>';color: #EFDFF1">
    <i>
        Click for Structs :
    </i>
    </summary>
    <center>
    <br>
  <img src="Resources/IMG/structs.png" style="width:700px;background-color: #17202A;">
    </center>
</details>

### <span style="color: #5A7777;">**--> Parser**</span>

<div style="border: #626567; background-color: #17202A; padding: 10px;">
    <font face="Trebuchet MS" size="3"> <span style="color: #85929E ;">
    The parser takes the sequences of tokens generated by the lexer, allocates a command table, puts the content of the command in the cmd_tab.cmd and saves the files in cmd_tab.redir while checking the syntax error. <br>
    The lexer and the parser work together to transform the command line into a form that can be executed.</span> </font>
    <br> <br>
    <i> Note: You can use a command table if your shell is handling only pipes, else in case of handling logical operators like "&&" or "||" the best way is to use a data structure called Abstract Syntax Tree (AST). </i>
</div>

<br>

<details>
<summary style="list-style-type: '>';color: #EFDFF1">
    <i>
     Click for Examples :
    </i>
  </summary>
    <center>
    <br>
  <img src="Resources/IMG/cmd_tab.png" style="width:700px;background-color: #17202A;">
    </center>
</details>

<details>
<summary style="list-style-type: '>';color: #EFDFF1">
    <i>
     Click for Struct :
    </i>
  </summary>
    <center>
    <br>
  <img src="Resources/IMG/cmd_tab_struct.png" style="width:700px;background-color: #17202A;">
    </center>
</details>

## <span style="color: Grey;" id="execution">*Execution*</span>

<details>
    <summary style="list-style-type: '>';color: #EFDFF1">
    <i>
        Simple command execution steps example:
    </i>
    </summary>
    <center>
    <br>
 
	                  
```
	    						   +------------+	
							|--| Open all   |----|
	                                    		|  | heredocs   |    |
							|  +------------+    |
+-------------------+     +--------------------------+	|		     |     +-------------------------+   +---------------------+  
|    Take cmd_tab   |-----|  Check for redirections  |--|		     |-----| Change stdin and stdout |---| Execute the command |
+---------+---------+     +------------+-------------+	|		     |     +-------------------------+   +---------------------+
	    						|  +------------+    |
	    						|--|open other 	|----|
	    						   |redirictions|
							   +------------+
								


```
	    
	    
	
</details>

### Command search

Before executing a command we need to look it up first we first check it if its executable by using access() in case of error we search the command  in the directories specified in the system's PATH environment variable. If the command is found, the program moves on to the next step. If it's not found, 
you'll get a "command not found" error<br>

### Command execute 

After finding the command path, the program executes it, launching a new process to run the command.
	
### communication between command "|"

You can use the "|" character to pipe the output of one command into the input of another command. This allows you to chain multiple commands together to perform more complex tasks.
</br>
</br>
These are the basic steps involved in executing a command in Minishell.

## Resources
Lexer && Parser:
<br>
-> https://www.youtube.com/watch?v=bxpc9Pp5pZM&ab_channel=Computerphile
<br>
-> https://www.cs.purdue.edu/homes/grr/SystemsProgrammingBook/Book/Chapter5-WritingYourOwnShell.pdf
<br>
-> https://www.geeksforgeeks.org/making-linux-shell-c/
<br><br>
Execution:
<br>
-> https://www.youtube.com/watch?v=cex9XrZCU14&list=PLfqABt5AS4FkW5mOn2Tn9ZZLLDwA3kZUY&ab_channel=CodeVault
<br>
-> https://www.youtube.com/watch?v=Wtd-8OiZOjk&ab_channel=Jess-Inspired
<br>
-> https://www.geeksforgeeks.org/pipe-system-call/
